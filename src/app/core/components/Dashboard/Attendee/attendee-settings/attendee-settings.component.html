<div class="flex flex-col md:flex-row h-screen">
  <app-attendee-sidebar class="md:w-64"></app-attendee-sidebar>
  <div class="home-container shadow-lg border border-gray-200 rounded-lg flex-1 mt-4 mr-2">
    <div class="relative flex flex-col bg-clip-border h-screen rounded-xl bg-white text-gray-700 w-full shadow-sm shadow-blue-gray-900/5">
      <div class="dash border-[1px] rounded-t-lg pl-5 flex">
        <div class="mb-2">
          <div class="font-bold text-bol">Settings</div>
          <p>Personalize Your Preferences and Account Settings.</p>
        </div>
        <div class="dash-content-right mb-2 flex ml-auto space-x-4 mt-2 xl:mt-2 h-10">
          <app-notification-bell></app-notification-bell>
          <div class="relative">
            <img *ngIf="profileImageUrl; else svgFallbackp" [src]="profileImageUrl" alt="Avatar" class="block cursor-pointer border rounded-full w-10 h-10" (click)="toggleCard()" />
            <ng-template #svgFallbackp>
              <svg width="18" height="18" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="bg-[#C7B9DA] pt-2 pb-1 w-10 h-10 rounded-full border">
                <path d="M17 19V17C17 15.9391 16.5786 14.9217 15.8284 14.1716C15.0783 13.4214 14.0609 13 13 13H5C3.93913 13 2.92172 13.4214 2.17157 14.1716C1.42143 14.9217 1 15.9391 1 17V19M13 5C13 7.20914 11.2091 9 9 9C6.79086 9 5 7.20914 5 5C5 2.79086 6.79086 1 9 1C11.2091 1 13 2.79086 13 5Z" stroke="#344054" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </ng-template>
            <div *ngIf="showProfileCard" class="absolute right-0 mt-[1rem] w-72 bg-white shadow-md rounded-lg p-6 z-10">
              <div class="flex items-center mb-4">
                <img *ngIf="profileImageUrl; else svgFallbackp" [src]="profileImageUrl" alt="Navbar Image" class="w-10 h-10 border rounded-full mr-2" />
                <div class="ml-2">
                  <h3 class="text-lg medium">{{fullName}}</h3>
                  <p class="text-xs text-gray-500">{{email}}</p>
                </div>
              </div>
              <hr class="bg-gray-500 border-2 dark:bg-gray-800 dark:border-gray-700 mb-4" />
              <button class="flex items-center text-sm text-gray-500" (click)="accountSettings()">
                <img src="assets/esp/dashboard/settings.png" class="w-4 h-4 mr-2" />
                Account settings
              </button>
            </div>
          </div>
          <p class="block pt-2 h-8">
            {{fullName}}
          </p>
          <button class="h-8 pt-3" (click)="toggleCard()">
            <img src="assets/esp/dashboard/down.png" alt="Down Icon" class="block mr-8" [class.clicked]="showProfileCard" />
          </button>
        </div>
      </div>

      <h3 class="text-[14px] pl-8 pt-4 font-bold text-[#BC1B06] underline decoration-red-600" style="text-underline-offset: 10px;">Account settings</h3>

      <div class="flex justify-between mx-8 mt-8 mb-4">
        <div class="w-1/5 border-gray-200 pr-8">
          <h2 class="mb-2 text-lg tracking-tight font-bold text-gray-900 lg:text-md text-left">
            {{ SettingTexts.personalInfo }}
          </h2>
          <p class="mb-8 lg:mb-16 font-light text-sm text-gray-500 dark:text-gray-400 sm:text-xl lg:text-sm text-left">
            {{ SettingTexts.updatePhoto }}
          </p>
        </div>
      
        <div class="w-4/5 2xl:w-3/5 border border-gray-200 rounded-lg shadow-md p-8">
          <form (ngSubmit)="saveChanges()" class="space-y-8 relative">
            <div class="mt-5">
              <div class="flex space-x-80 2xl:space-x-80">
                <label for="firstName" class="block mb-2 text-sm font-medium text-gray-900">
                  First Name
                </label>
                <label for="lastName" class="block mb-2 pl-60 text-sm font-medium text-gray-900">
                  Last Name
                </label>
              </div>
              <div class="flex space-x-4">
                <input
                  type="text"
                  id="firstName"
                  [(ngModel)]="firstName"
                  name="firstName"
                  class="pl-3 shadow-sm bg-white border border-gray-300 text-gray-900 text-sm rounded-lg block w-1/2 p-1.5"
                  placeholder="Enter first name here"
                />
                <input
                  type="text"
                  id="lastName"
                  [(ngModel)]="lastName"
                  name="lastName"
                  class="pl-3 shadow-sm bg-white border border-gray-300 text-gray-900 text-sm rounded-lg block w-1/2 p-1.5"
                  placeholder="Enter last name here"
                />
              </div>
            
              <div class="mt-5 relative">
                <label for="email" class="block mb-2 text-sm font-medium text-gray-900">
                  Email
                </label>
                <div class="relative">
                  <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                    <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                      <path d="M18.3334 4.9987C18.3334 4.08203 17.5834 3.33203 16.6667 3.33203H3.33341C2.41675 3.33203 1.66675 4.08203 1.66675 4.9987M18.3334 4.9987V14.9987C18.3334 15.9154 17.5834 16.6654 16.6667 16.6654H3.33341C2.41675 16.6654 1.66675 15.9154 1.66675 14.9987V4.9987M18.3334 4.9987L10.0001 10.832L1.66675 4.9987" stroke="#667085" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                  <input
                    type="email"
                    id="email"
                    [(ngModel)]="email"
                    name="email"
                    class="pl-10 shadow-sm bg-white border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-1.5"
                    placeholder="Enter email here"
                    disabled
                  />
                </div>
              </div>              
            </div>
            <div class="mt-8">
              <div class="flex items-center">
                <img *ngIf="profileImageUrl; else svgFallback" class="rounded-full border w-20 h-20" [src]="profileImageUrl" alt="profile picture" />
                <ng-template #svgFallback>
                  <svg width="18" height="18" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="bg-[#C7B9DA] mr-2 pt-2 pb-1 rounded-full w-20 h-20 border">
                    <path d="M17 19V17C17 15.9391 16.5786 14.9217 15.8284 14.1716C15.0783 13.4214 14.0609 13 13 13H5C3.93913 13 2.92172 13.4214 2.17157 14.1716C1.42143 14.9217 1 15.9391 1 17V19M13 5C13 7.20914 11.2091 9 9 9C6.79086 9 5 7.20914 5 5C5 2.79086 6.79086 1 9 1C11.2091 1 13 2.79086 13 5Z" stroke="#344054" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </ng-template>
                <div
                  class="pl-3 ml-10 shadow-sm bg-white border border-gray-300 text-gray-900 text-sm rounded-lg w-full p-1.5"
                  (dragover)="onDragOver($event)"
                  (dragleave)="onDragLeave($event)"
                  (drop)="onDrop($event)"
                >
                  <figure class="flex flex-col items-center py-2">
                    <label for="fileInput" class="cursor-pointer">
                      <img src="assets/esp/dashboard/upload.png" class="w-10 h-10 rounded-full bg-gray-200 p-2" alt="" />
                    </label>
                    <input type="file" id="fileInput" class="hidden" (change)="onFileSelected($event)" />
                    <p class="my-4 text-center">
                      <span class="text-red-600 font-bold lg:text-sm">Click to upload</span>
                      <span> or drag and drop</span><br />
                      <span>{{ SettingTexts.imageSpec }}</span>
                    </p>
                  </figure>
                </div>
              </div>
            </div>
          
            <div class="flex justify-end space-x-5 mt-8">
              <button type="button" class="bg-white border border-gray-300 text-black font-normal py-2 px-4 rounded-lg" (click)="cancel()">
                Cancel
              </button>
              <button type="submit" class="bg-red-600 text-white font-normal py-2 px-4 rounded-lg">
                Save Changes
              </button>
            </div>
          </form>
        </div>
      </div>

    </div>
  </div>
</div>

